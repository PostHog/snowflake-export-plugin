{
    "name": "Snowflake Export Plugin",
    "url": "https://github.com/posthog/snowflake-export-plugin",
    "description": "Export PostHog events into Snowflake",
    "main": "index.ts",
    "posthogVersion": ">=1.27.0",
    "config": [
        {
            "key": "account",
            "name": "Snowflake Account",
            "type": "string",
            "hint": "In the format of \"ab12345\" or \"ab12345.region.cloud\"",
            "required": true
        },
        {
            "key": "username",
            "name": "Snowflake Username",
            "type": "string",
            "required": true
        },
        {
            "key": "password",
            "name": "Snowflake Password",
            "type": "string",
            "required": false,
            "secret": true
        },
        {
            "key": "database",
            "name": "Snowflake Database Name",
            "type": "string",
            "required": true
        },
        {
            "key": "dbschema",
            "name": "Snowflake Database Schema Name",
            "type": "string",
            "default": "PUBLIC",
            "required": true
        },
        {
            "key": "table",
            "name": "Snowflake Table Name",
            "type": "string",
            "required": true,
            "hint": "Will be created if doesn't already exist."
        },
        {
            "key": "warehouse",
            "name": "Snowflake Virtual Warehouse Name",
            "required": true,
            "type": "string",
            "hint": "Warehouse to be used for ingesting from stage."
        },
        {
            "key": "role",
            "name": "Snowflake Role",
            "type": "string",
            "hint": "Optional, overrides the default role of the user."
        },
        {
            "key": "stageToUse",
            "name": "Object Storage",
            "type": "choice",
            "choices": ["S3"],
            "hint": "Object storage platform that will be used for staging data for Snowflake export."
        },
        {
            "key": "stage",
            "name": "Snowflake Stage Name",
            "type": "string",
            "required": true,
            "hint": "External (object storage) stage where files will be stored before final export."
        },
        {
            "key": "eventsToIgnore",
            "name": "Ignored Events",
            "type": "string",
            "default": "$snapshot, $feature_flag_called",
            "hint": "Comma-separated list of events to ignore."
        },
        {
            "key": "s3BucketName",
            "name": "S3 Bucket Name",
            "type": "string"
        },
        {
            "key": "awsAccessKeyId",
            "name": "AWS Access Key ID",
            "type": "string"
        },
        {
            "key": "awsSecretAccessKey",
            "name": "AWS Secret Access Key",
            "type": "string",
            "secret": true
        },
        {
            "key": "awsRegion",
            "name": "AWS Region",
            "type": "string"
        },
        {
            "key": "purgeFromStage",
            "name": "Purge Events from Object Storage after Copy?",
            "type": "choice",
            "choices": ["No", "Yes"],          
            "default": "No"
        }
    ]
}
